<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Jmol, see http://www.jmol.org" />
  <meta name ="author" content = "Jmol Web Page Maker"/>
  <meta name ="keywords" content = "generated_by_Jmol_Webexport"/>
  <title>A web page containing Jmol applets</title>
  <style type="text/css">
  body {
  	margin:0px;
  	padding:0px;
  	}
  #visible_page_wrapper{
      position:absolute;
      top:0px;
      /*height:100%;*/
      width:100%;
      overflow: scroll;
  }
  .JmolDiv { 
      padding:0.3em 0.5ex; 
      font-size:0.9em; 
      background-repeat:no-repeat; 
      background-position:center;
      }
  .floatRightDiv { 
      padding:0.3em 0.5ex; 
      font-size:0.9em; 
      float:right;
      }
  .floatLeftDiv { 
      padding:0.3em 0.5ex; 
      font-size:0.9em; 
      float:left;
      }
  .update-info{
      text-align:right;
      font-size: small;
      font-style: italic;
  }
  </style>  

  <!-- Below is used locally but not on server. May generate warnings. -->
  <script type="text/javascript" src="/static/js/jsmol/JSmol.min.js"></script>
  <script src="JmolPopIn.js" type="text/javascript"></script>
  
  
  <!-- Below is used on server, but not locally. May generate warnings.-->
  <script type="text/javascript" src="/static/js/jsmol/JSmol.min.js"></script>
  <script type="text/javascript">
  var jmolApplet; //our viewer
  var jmolInfo; //setup parameters
  ;(function() {

// Developers: The debugCode flag is checked in j2s/java/core.z.js, 
// and, if TRUE, skips loading the core methods, forcing those
// to be read from their individual directories. Set this
// true if you want to do some code debugging by inserting
// System.out.println, document.title, or alert commands
// anywhere in the Java or Jmol code.

var s = document.location.search;
Jmol.debugCode = (s.indexOf("debugcode") >= 0);


jmol_isReady = function(jmolApplet) {
	//TODO will need to activate widgets
 }		


jmolInfo = { //default values
	width: "100%",
	height: "100%",
	debug: false,
	color: "green",
	addSelectionOptions: false,
	serverURL: "http://chemapps.stolaf.edu/jmol/jsmol/php/jsmol.php", //you can change this to your own server.
	use: "HTML5",
    coverImage: "@APPLETNAME0@.png",        // initial image instead of applet
    coverScript: "",	// special script for click of cover image (otherwise equal to script)
    deferApplet: true,                  // wait to load applet until click
    deferUncover: true,                 // wait to uncover applet until script completed
    //The paths below assume your server is set up with standard JSmol directory.  If not
    //they will need modification for the page to work.
    jarPath: "/static/js/jsmol/java", //path to applet .jar files on server.
	j2sPath: "/static/js/jsmol/j2s",//path to javascript version.
	makeLiveImg:"/static/js/jsmol/j2s/img/play_make_live.jpg",//path to activate 3-D image.
	jarFile: "/static/js/jsmol/java/JmolAppletSigned0.jar",
	isSigned: true,
	//disableJ2SLoadMonitor: true,
	disableInitialConsole: true,
	readyFunction: jmol_isReady,
	script: ""
}

// ?_USE=JAVA   ?_USE=SIGNED   ?_USE=HTML5
   if (s.indexOf("USE=") >= 0)
     jmolInfo.use = s.split("USE=")[1].split("&")[0]
   else if (s.indexOf("JAVA") >= 0)
     jmolInfo.use = "JAVA"
   else if (s.indexOf("IMAGE") >= 0)
     jmolInfo.use = "IMAGE"
   else if (s.indexOf("NOWEBGL") >= 0)
     jmolInfo.use = "JAVA IMAGE"
   else if (s.indexOf("WEBGL") >= 0)
     jmolInfo.use = "WEBGL HTML5"
   if (s.indexOf("NOWEBGL") >= 0)
     jmolInfo.use = use.replace(/WEBGL/,"")
   var useSignedApplet = (s.indexOf("SIGNED") >= 0);
   if(useSignedApplet && jmolInfo.use == "HTML5") jmolInfo.use = "JAVA";

   var protocol = window.location.protocol.toLowerCase();
   if (protocol == "file:") { 
    jmolInfo.jarPath = "/static/js/jsmol/java";
    jmolInfo.j2sPath = "/static/js/jsmol/j2s";
    jmolInfo.makeLiveImg = "/static/js/jsmol/j2s/img/play_make_live.jpg";
    jmolInfo.jarFile = "JmolAppletSigned.jar";
    jmolInfo.isSigned= "true";
  }
})();

Jmol.setDocument(document);

// notice that we are using no document.write() function here. All DOM-based.
// Jmol.getAppletHtml is working.

$(document).ready(function(){//set up each of the applet locations
    $("#make_live_icon").attr('src',jmolInfo.makeLiveImg);
   var jmolInfo0=jmolInfo;
   jmolInfo0.coverImage="test.png";
   jmolInfo0.script="load test.spt";
   $("#Jmol0").html(Jmol.getAppletHtml("jmolApplet0",jmolInfo0));


});
  </script>
</head>
<body>
  <div id="visible_page_wrapper">
    <div id="introdiv" style="text-align: left;">
      <div id="titlediv" style="text-align: center;">
        Insert the page TITLE here.
        <br />
      </div>
      Insert the page INTRODUCTION here.
    </div>

    

    <table style  = "width: 100%;" border="0" cellpadding="0" cellspacing="0">
      <tbody>
        <tr><td>
<div style="margin:0; padding:0;">&nbsp;</div>
<div id="divtest">
<div id="tabletest" class = "floatRightDiv">
<table style="text-align: left; width: 300px;" border='1' cellpadding='2' cellspacing='2'>
    <tr><td id="leftJmolCntl0" style="visibility:hidden;width:0;"></td>
      <td style="vertical-align: top; width: 300px; height: 300px;">
  		<div id="Jmol0" class="JmolDiv" style="width: 300px; height: 300px; background-image:URL(test.png)">
           Jmol0 will appear here.
		</div>
      </td><td id="rightJmolCntl0" style="width:0;"></td>
    </tr>
    <tr><td></td>
      <td style="vertical-align: top;">     
		CLICK IMAGE TO ACTIVATE 3D <br/> Insert a caption for test here.		
      </td><td></td>
    </tr>
</table>
</div>
<div id="texttest">
Insert additional explanatory text here. Long text will wrap around Jmol model test.
</div>
</div>
</td></tr>


      </tbody></table>

    <div style="margin:0; padding:0;">&nbsp;</div>

    <div id="authordiv" class="update-info">
      Based on template by A. Herr&#x00E1;ez as modified by J. Gutow
    </div>
    <div id="creationdiv" class="update-info">
       <small>Page skeleton and JavaScript generated by export to web function using  <a href="http://jmol.sourceforge.net">Jmol 14.2.15_2015.07.09  2015-07-09 22:22</a>  on Aug 25, 2015.</small><br />
    </div>
    <div id="logdiv" style="text-align: right; display:none">
      <pre>
Using directory /Users/andrea/Desktop/test/templates
  adding JmolPopIn.js
  ...jmolApplet0
      ...adding test.png
      ...adding test.spt

</pre>

    </div>
  </div>
</body>
</html>
